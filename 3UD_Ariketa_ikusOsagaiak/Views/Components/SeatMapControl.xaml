<UserControl x:Class="_3UD_Ariketa_ikusOsagaiak.Views.Components.SeatMapControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="clr-namespace:_3UD_Ariketa_ikusOsagaiak.Models"
             x:Name="Root"
             MinHeight="200" MinWidth="400">

	<UserControl.Resources>
		<SolidColorBrush x:Key="AvailableBrush" Color="#A7E9AF"/>
		<SolidColorBrush x:Key="SelectedBrush" Color="#F9E79F"/>
		<SolidColorBrush x:Key="ReservedBrush" Color="#AEB6BF"/>
	</UserControl.Resources>

	<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
		<ItemsControl ItemsSource="{Binding Seats, ElementName=Root}">
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<UniformGrid Columns="{Binding Columns, ElementName=Root}" />
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>

			<ItemsControl.ItemTemplate>
				<DataTemplate DataType="{x:Type models:Seat}">
					<Button Content="{Binding Id}"
                            Margin="4" Padding="6"
                            ToolTip="{Binding Status}"
                            Command="{Binding SeatClickCommand, ElementName=Root}"
                            CommandParameter="{Binding}">
						<Button.Style>
							<Style TargetType="Button">
								<Setter Property="Background" Value="{StaticResource AvailableBrush}" />
								<Style.Triggers>
									<DataTrigger Binding="{Binding Status}" Value="Selected">
										<Setter Property="Background" Value="{StaticResource SelectedBrush}" />
									</DataTrigger>
									<DataTrigger Binding="{Binding Status}" Value="Reserved">
										<Setter Property="Background" Value="{StaticResource ReservedBrush}" />
									</DataTrigger>
									<Trigger Property="IsMouseOver" Value="True">
										<Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
										<Setter Property="RenderTransform">
											<Setter.Value>
												<ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
											</Setter.Value>
										</Setter>
										<Setter Property="Cursor" Value="Hand"/>
									</Trigger>
								</Style.Triggers>
							</Style>
						</Button.Style>
					</Button>
				</DataTemplate>
			</ItemsControl.ItemTemplate>
		</ItemsControl>
	</ScrollViewer>
</UserControl>

